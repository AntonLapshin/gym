/*! knockout-bootstrap version: 0.3.1
*  2015-01-10
*  Author: Bill Pullen
*  Website: http://billpull.github.com/knockout-bootstrap
*  MIT License http://www.opensource.org/licenses/mit-license.php
*/

function setupKoBootstrap(e,t){var n=function(e){return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)});t.fn.outerHtml||(t.fn.outerHtml=function(){if(0===this.length)return!1;var e=this[0],n=e.tagName.toLowerCase();if(e.outerHTML)return e.outerHTML;var r=t.map(e.attributes,function(e){return e.name+'="'+e.value+'"'});return"<"+n+(r.length>0?" "+r.join(" "):"")+">"+e.innerHTML+"</"+n+">"}),e.bindingHandlers.typeahead={init:function(n,r,i){var s=t(n),o=i(),u=function(e){return function(n,r){var i,s;i=[],s=new RegExp(n,"i"),t.each(e,function(e,t){s.test(t)&&i.push({value:t})}),r(i)}},f={source:u(e.utils.unwrapObservable(r()))};o.typeaheadOptions&&t.each(o.typeaheadOptions,function(t,n){f[t]=e.utils.unwrapObservable(n)}),s.attr("autocomplete","off").typeahead({hint:!0,highlight:!0,minLength:1},f)}},e.bindingHandlers.progress={init:function(r,i,s,o){var u=t(r),f=t("<div/>",{"class":"progress-bar","data-bind":"style: { width:"+i()+" }"});u.attr("id",n()).addClass("progress progress-info").append(f),e.applyBindingsToDescendants(o,u[0])}},e.bindingHandlers.alert={init:function(n,r){var i=t(n),s=e.utils.unwrapObservable(r()),o=t("<button/>",{type:"button","class":"close","data-dismiss":"alert"}).html("&times;"),u=t("<p/>").html(s.message);i.addClass("alert alert-"+s.priority).append(o).append(u)}},e.bindingHandlers.tooltip={update:function(n,r){var i,s,o;if(s=e.utils.unwrapObservable(r()),i=t(n),e.isObservable(s.title)){var u=!1;i.on("show.bs.tooltip",function(){u=!0}),i.on("hide.bs.tooltip",function(){u=!1});var f=s.animation||!0;s.title.subscribe(function(){u&&(i.data("bs.tooltip").options.animation=!1,i.tooltip("fixTitle").tooltip("show"),i.data("bs.tooltip").options.animation=f)})}o=i.data("bs.tooltip"),o?t.extend(o.options,s):i.tooltip(s)}},e.bindingHandlers.popover={init:function(n,r,i,s){var o=t(n),u=e.utils.unwrapObservable(r()),f=u.template||!1,l=u.options||{title:"popover"},c=u.data||!1;return f!==!1&&(l.content=c?"<!-- ko template: { name: template, if: data, data: data } --><!-- /ko -->":t("#"+f).html(),l.html=!0),o.on("shown.bs.popover",function(n){var r=t(n.target).data(),i=r["bs.popover"].$tip,o=r["bs.popover"].options||{},u=t(n.target),l=u.position(),h={x:u.outerWidth(),y:u.outerHeight()};c?e.applyBindings({template:f,data:c},i[0]):e.applyBindings(s,i[0]);var p={x:i.outerWidth(),y:i.outerHeight()};switch(i.find('button[data-dismiss="popover"]').click(function(){u.popover("hide")}),o.placement){case"right":i.css({left:h.x+l.left,top:h.y/2+l.top-p.y/2});break;case"left":i.css({left:l.left-p.x,top:h.y/2+l.top-p.y/2});break;case"top":i.css({left:l.left+(h.x/2-p.x/2),top:l.top-p.y});break;case"bottom":i.css({left:l.left+(h.x/2-p.x/2),top:l.top+h.y})}}),o.popover(l),{controlsDescendantBindings:!0}}},e.bindingHandlers.modal={init:function(n,r,i,s){var o=t(n),u=e.utils.unwrapObservable(r()),f=u.template||!1,l=u.options||{},c=u.data||!1,h=u.fade||!1,p=u.openModal||!1;l.show=!1;var d={"class":"modal"+(h?" fade":""),"tab-index":"-1",role:"dialog","aria-hidden":"true"};c&&(d["data-bind"]="template: { name: template, if: data, data: data }");var v=t("<div/>",d);return c||v.html(t("#"+f).html()),v.modal(l),o.on("click",function(){c?e.applyBindings({template:f,data:c},v[0]):e.applyBindings(s,v[0]),v.modal("show"),p&&p(),t(".modal-backdrop").css({height:t(window).height(),position:"fixed"})}),{controlsDescendantBindings:!0}}}}!function(e){"function"==typeof define&&define.amd?define(["require","exports","knockout","jquery"],function(t,n,r,i){e(r,i)}):e(window.ko,jQuery)}(setupKoBootstrap);